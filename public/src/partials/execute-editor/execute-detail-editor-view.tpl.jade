//Created by Bli on 2014/6/12.
#execute-detail-editor-form.modal-dialog.modal-lg(ng-controller="executeDetailEditorController")
	div.modal-content
		div.modal-header
			button.close(type="button", data-dismiss="modal") &times;
			h4.modal-title 明细管理 &nbsp;
				small Details Management
		div.modal-body.container-fluid

			div.table-responsive
				table#execute-detail-editor-table.table.table-bordered(editable-table)
					thead
						tr
							th 执行日期
							th 执行人
							th 执行情况
							th 附件
					tbody
						tr(ng-repeat="sub_item in dialog_data_model track by $index")
							td(edit-model="sub_item.execute_date", edit-type="date") {{sub_item.execute_date | date:'yyyy-MM-dd'}}
							td(edit-model="sub_item.execute_runner", edit-type="string") {{sub_item.execute_runner}}
							td(edit-model="sub_item.execute_digest", edit-type="string") {{sub_item.execute_digest}}
							td(edit-disabled)
								a.attachment-token.label.cursor-pointer(ng-repeat="attach in sub_item.attachment",download="attach.file_name", ng-href="file-download/{{attach.file_url}}?givenName={{attach.file_name}}")
									i.fa.text-info.fa-fw(class="{{translateFileType(attach.file_ext).icon}}") &nbsp;
									span {{attach.file_name}}



			table-content-handler(option="tableHandlerOption", model="dialog_data_model", table="#execute-detail-editor-table")

		div.modal-footer
			div.pull-left.alert-danger.panel(ng-show="prop.showErrorMessage")
				i.fa.fa-fw.fa-warning
				span 单据填写有误，请修正红色标记
			button.btn.btn-default(type="button", ng-click="Cancel()") 取消
			button.btn.btn-primary(type="button", ng-click="Confirm('update', true)") 保存



