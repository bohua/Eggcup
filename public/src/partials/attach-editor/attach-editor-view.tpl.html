
<!--Created by bli on 2014/6/11.-->
<div id="attach-editor-form" ng-controller="attachEditorController" class="modal-dialog modal-lg">
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" data-dismiss="modal" class="close">&times;</button>
      <h4 class="modal-title">附信管理 &nbsp;<small>Attachments Management</small></h4>
    </div>
    <div class="modal-body container-fluid">
      <div class="table-responsive">
        <table id="attach-editor-table" class="table table-bordered">
          <thead>
            <tr>
              <th>文件名</th>
              <th>文件类型</th>
              <th>文件大小</th>
              <th>上传日期</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="item in dialog_data_model" class="cursor-pointer">
              <td><a download="item.file_name" ng-href="file-download/{{item.file_url}}?givenName={{item.file_name}}" class="attachment-token label"><i class="fa text-info fa-fw {{translateFileType(item.file_ext).icon}}">&nbsp;</i><span>{{item.file_name}}</span></a></td>
              <td>{{translateFileType(item.file_ext).type}}</td>
              <td>{{item.file_size}}</td>
              <td>{{item.createdAt | date:'yyyy-MM-dd'}}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <table-content-handler option="tableHandlerOption" model="dialog_data_model" table="#attach-editor-table"></table-content-handler>
      <file-upload-field on-uploaded="fileUploaded(file)"></file-upload-field>
    </div>
    <div class="modal-footer">
      <div ng-show="prop.showErrorMessage" class="pull-left alert-danger panel"><i class="fa fa-fw fa-warning"></i><span>单据填写有误，请修正红色标记</span></div>
      <button type="button" ng-click="Cancel()" class="btn btn-default">取消</button>
      <button type="button" ng-click="Confirm('update', true)" class="btn btn-primary">保存</button>
    </div>
  </div>
</div>