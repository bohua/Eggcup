var duScrollDefaultEasing=function(e){if(e<.5){return Math.pow(e*2,2)/2}return 1-Math.pow((1-e)*2,2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.requestAnimation","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollGreedy",false).value("duScrollEasing",duScrollDefaultEasing);angular.module("duScroll.scrollHelpers",[]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing",function(e,t,n,r,i){var s=angular.element.prototype;this.$get=function(){return s};var o=function(e){return typeof HTMLDocument!=="undefined"&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE};var u=function(e){return typeof HTMLElement!=="undefined"&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE};var a=function(e){return u(e)||o(e)?e:e[0]};s.scrollTo=function(t,n,r,i){var s;if(angular.isElement(t)){s=this.scrollToElement}else if(r){s=this.scrollToAnimated}if(s){return s.apply(this,arguments)}var u=a(this);if(o(u)){return e.scrollTo(t,n)}u.scrollLeft=t;u.scrollTop=n};var f,l;s.scrollToAnimated=function(e,s,o,u){if(o&&!u){u=i}var a=this.scrollLeft(),c=this.scrollTop(),h=Math.round(e-a),p=Math.round(s-c);var d=null;if(f){n(f);l.reject()}var v=this;l=t.defer();if(!h&&!p){l.resolve();return l.promise}var m=function(e){if(d===null){d=e}var t=e-d;var n=t>=o?1:u(t/o);v.scrollTo(a+Math.ceil(h*n),c+Math.ceil(p*n));if(n<1){f=r(m)}else{f=null;l.resolve()}};v.scrollTo(a,c);f=r(m);return l.promise};s.scrollToElement=function(e,t,n,r){var i=a(this);var s=this.scrollTop()+a(e).getBoundingClientRect().top-t;if(u(i)){s-=i.getBoundingClientRect().top}return this.scrollTo(0,s,n,r)};var c={scrollLeft:function(t,n,r){if(angular.isNumber(t)){return this.scrollTo(t,this.scrollTop(),n,r)}var i=a(this);if(o(i)){return e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft}return i.scrollLeft},scrollTop:function(t,n,r){if(angular.isNumber(t)){return this.scrollTo(this.scrollTop(),t,n,r)}var i=a(this);if(o(i)){return e.scrollY||document.documentElement.scrollTop||document.body.scrollTop}return i.scrollTop}};var h=function(e,t){return function(n,r,i){if(r){return t.apply(this,arguments)}return e.apply(this,arguments)}};for(var p in c){s[p]=s[p]?h(s[p],c[p]):c[p]}}]);angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){var t=["webkit","moz","o","ms"];return function(n,r){if(e[n]){return e[n]}var i=n.substr(0,1).toUpperCase()+n.substr(1);for(var s,o=0;o<t.length;o++){s=t[o]+i;if(e[s]){return e[s]}}return r}}]);angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){var n=0;var r=function(e,r){var i=(new Date).getTime();var s=Math.max(0,16-(i-n));var o=t(function(){e(i+s)},s);n=i+s;return o};return e("requestAnimationFrame",r)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]);angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","scrollContainerAPI","duScrollGreedy",function(e,t,n){var r=function(t){return function(){var r=t.container,i=r[0],s=0;if(i instanceof HTMLElement){s=i.getBoundingClientRect().top}var o,u,a,f,l,c;f=t.spies;u=t.currentlyActive;a=undefined;for(o=0;o<f.length;o++){l=f[o];c=l.getTargetPosition();if(!c)continue;if(c.top+l.offset-s<20&&c.top*-1+s<c.height){if(!a||a.top<c.top){a={top:c.top,spy:l}}}}if(a){a=a.spy}if(u===a||n&&!a)return;if(u){u.$element.removeClass("active");e.$broadcast("duScrollspy:becameInactive",u.$element)}if(a){a.$element.addClass("active");e.$broadcast("duScrollspy:becameActive",a.$element)}t.currentlyActive=a}};var i={};var s=function(e){var t=e.$id;var n={spies:[]};n.handler=r(n);i[t]=n;e.$on("$destroy",function(){o(e)});return t};var o=function(e){var t=e.$id;var n=i[t],r=n.container;if(r){r.off("scroll",n.handler)}delete i[t]};var u=s(e);var a=function(e){if(i[e.$id]){return i[e.$id]}if(e.$parent){return a(e.$parent)}return i[u]};var f=function(e){var t,n,r=e.$element.scope();if(r){return a(r)}for(n in i){t=i[n];if(t.spies.indexOf(e)!==-1){return t}}};var l=function(e){var n=f(e);f(e).spies.push(e);n.container=t.getContainer(e.$element.scope());n.container.on("scroll",n.handler).triggerHandler("scroll")};var c=function(e){var t=f(e);if(e===t.currentlyActive){t.currentlyActive=null}var n=t.spies.indexOf(e);if(n!==-1){t.spies.splice(n,1)}};return{addSpy:l,removeSpy:c,createContext:s,destroyContext:o,getContextForScope:a}}]);angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){var t={};var n=function(e,n){var r=e.$id;t[r]=n;return r};var r=function(e){if(t[e.$id]){return e.$id}if(e.$parent){return r(e.$parent)}return};var i=function(n){var i=r(n);return i?t[i]:e};var s=function(e){var n=r(e);if(n){delete t[n]}};return{getContainerId:r,getContainer:i,setContainer:n,removeContainer:s}}]);angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","scrollContainerAPI",function(e,t){return{link:function(n,r,i){r.on("click",function(r){if(!i.href||i.href.indexOf("#")===-1)return;var s=document.getElementById(i.href.replace(/.*(?=#[^\s]+$)/,"").substring(1));if(!s||!s.getBoundingClientRect)return;if(r.stopPropagation)r.stopPropagation();if(r.preventDefault)r.preventDefault();var o=i.offset?parseInt(i.offset,10):0;var u=i.duration?parseInt(i.duration,10):e;var a=t.getContainer(n);a.scrollToElement(angular.element(s),isNaN(o)?0:o,isNaN(u)?0:u)})}}}]);angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){return{restrict:"A",scope:true,compile:function(n,r,i){return{pre:function(n,r,i,s){e.createContext(n)}}}}}]);angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){return{restrict:"A",scope:true,compile:function(n,r,i){return{pre:function(n,r,i,s){i.$observe("duScrollContainer",function(t){if(angular.isString(t)){t=document.getElementById(t)}t=angular.isElement(t)?angular.element(t):r;e.setContainer(n,t);n.$on("$destroy",function(){e.removeContainer(n)})})}}}}}]);angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","$timeout",function(e,t){var n=function(e,t,n){if(angular.isElement(e)){this.target=e}else if(angular.isString(e)){this.targetId=e}this.$element=t;this.offset=n};n.prototype.getTargetElement=function(){if(!this.target&&this.targetId){this.target=document.getElementById(this.targetId)}return this.target};n.prototype.getTargetPosition=function(){var e=this.getTargetElement();if(e){return e.getBoundingClientRect()}};n.prototype.flushTargetCache=function(){if(this.targetId){this.target=undefined}};return{link:function(r,i,s){var o=s.ngHref||s.href;var u;if(o&&o.indexOf("#")!==-1){u=o.replace(/.*(?=#[^\s]+$)/,"").substring(1)}else if(s.duScrollspy){u=s.duScrollspy}if(!u)return;t(function(){var t=new n(u,i,-(s.offset?parseInt(s.offset,10):0));e.addSpy(t);r.$on("$destroy",function(){e.removeSpy(t)});r.$on("$locationChangeSuccess",t.flushTargetCache.bind(t));r.$on("$stateChangeSuccess",t.flushTargetCache.bind(t))},0)}}}])